%script{:type => "text/x-mathjax-config"}
  :plain
    MathJax.Hub.Config({
      // we do not need delimiters as kramdown will transform a $$ XXX $$
      // into span's or div's, the inner ones containing XXX,
      // and with the appropriate id's and classes for an accompanying
      // script to run Mathjax to render the content of those tags.
      tex2jax: {
        inlineMath: [],
        displayMath: [],
      },

      TeX: {
        // this is part of our handmade management of equation numbers
        equationNumbers: {
          autoNumber: "AMS"
        },

        // this is part of our handmade LaTeX macro management
        Macros: {
          #{macros_for_mathjax}
        }
      },

      menuSettings: {
        zoom: "Double-Click",
      },
    });

-# As instructed at https://www.mathjax.org/cdn-shutting-down/
%script{:src => "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_SVG"}
