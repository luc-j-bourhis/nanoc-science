%script{:type => "text/x-mathjax-config"}
  :plain
    MathJax.Hub.Config({
      // we need delimiters as kramdown will transform a $$ XXX $$
      // into either \\( … \\) for inline math and \\[ … \\] for display math
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [['\\[', '\\]']],
      },

      TeX: {
        // this is part of our handmade management of equation numbers
        equationNumbers: {
          autoNumber: "AMS"
        },

        // this is part of our handmade LaTeX macro management
        Macros: {
          #{macros_for_mathjax}
        }
      },

      menuSettings: {
        zoom: "Double-Click",
      },
    });
    // MathJax.Hub.Register.StartupHook("SVG Jax Ready",function () {
    //   var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;
    //   VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
    //   VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
    //   VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
    //   VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
    // });

-# As instructed at https://www.mathjax.org/cdn-shutting-down/
%script{:src => "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_SVG"}
